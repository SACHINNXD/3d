<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scroll Solar System</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow-x: hidden;
}

/* BIG SCROLL AREA */
.scroll-space {
  height: 700vh;
}

canvas {
  position: fixed;
  inset: 0;
  z-index: -1;
}

.text {
  position: fixed;
  top: 45%;
  width: 100%;
  text-align: center;
  color: white;
  font-family: Arial, sans-serif;
  letter-spacing: 4px;
  opacity: 0.7;
}
</style>
</head>

<body>

<div class="text">SCROLL</div>
<div class="scroll-space"></div>

<!-- THREE.JS (GLOBAL BUILD) -->
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
/* SCENE */
const scene = new THREE.Scene();

/* CAMERA */
const camera = new THREE.PerspectiveCamera(
  60,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.z = 50;

/* RENDERER */
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
document.body.appendChild(renderer.domElement);

/* LIGHTS */
scene.add(new THREE.AmbientLight(0xffffff, 0.3));

const sunLight = new THREE.PointLight(0xffcc88, 3, 500);
sunLight.position.set(0, 0, 0);
scene.add(sunLight);

/* STARS */
const starGeometry = new THREE.BufferGeometry();
const starCount = 6000;
const starPositions = new Float32Array(starCount * 3);

for (let i = 0; i < starPositions.length; i++) {
  starPositions[i] = (Math.random() - 0.5) * 1200;
}
starGeometry.setAttribute(
  "position",
  new THREE.BufferAttribute(starPositions, 3)
);

const stars = new THREE.Points(
  starGeometry,
  new THREE.PointsMaterial({ color: 0xffffff, size: 1 })
);
scene.add(stars);

/* SUN */
const sun = new THREE.Mesh(
  new THREE.SphereGeometry(6, 64, 64),
  new THREE.MeshStandardMaterial({
    emissive: 0xffaa00,
    emissiveIntensity: 2
  })
);
scene.add(sun);

/* PLANETS */
const planets = [];
const distances = [12, 20, 30, 45];
const sizes = [1.5, 2, 2.5, 3];

for (let i = 0; i < distances.length; i++) {
  const planet = new THREE.Mesh(
    new THREE.SphereGeometry(sizes[i], 48, 48),
    new THREE.MeshStandardMaterial({
      metalness: 0.3,
      roughness: 0.7
    })
  );
  scene.add(planet);
  planets.push({
    mesh: planet,
    distance: distances[i],
    speed: 0.0005 + i * 0.0004
  });
}

/* SCROLL CONTROL */
let scrollProgress = 0;
window.addEventListener("scroll", () => {
  scrollProgress =
    window.scrollY /
    (document.body.scrollHeight - window.innerHeight);
});

/* ANIMATE */
function animate() {
  requestAnimationFrame(animate);

  const time = performance.now();

  planets.forEach((p, i) => {
    const angle = time * p.speed;
    p.mesh.position.x = Math.cos(angle) * p.distance;
    p.mesh.position.z = Math.sin(angle) * p.distance;
  });

  /* CAMERA TRAVEL */
  camera.position.z = 50 - scrollProgress * 140;
  camera.position.y = scrollProgress * 30;
  camera.lookAt(0, 0, 0);

  renderer.render(scene, camera);
}
animate();

/* RESIZE */
window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
