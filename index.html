<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Scroll 3D Solar System</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #000;
  overflow-x: hidden;
}

/* VERY TALL PAGE */
.spacer {
  height: 600vh;
}

canvas {
  position: fixed;
  inset: 0;
  z-index: -1;
}

/* Optional text */
.overlay {
  position: fixed;
  top: 40%;
  width: 100%;
  text-align: center;
  color: white;
  font-family: sans-serif;
  letter-spacing: 2px;
  opacity: 0.8;
}
</style>
</head>

<body>

<div class="overlay">SCROLL</div>
<div class="spacer"></div>

<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js";

/* SCENE */
const scene = new THREE.Scene();

/* CAMERA */
const camera = new THREE.PerspectiveCamera(
  60,
  innerWidth / innerHeight,
  0.1,
  1000
);
camera.position.z = 40;

/* RENDERER */
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(Math.min(devicePixelRatio, 2));
renderer.outputColorSpace = THREE.SRGBColorSpace;
document.body.appendChild(renderer.domElement);

/* LIGHTING */
scene.add(new THREE.AmbientLight(0xffffff, 0.3));

const sunLight = new THREE.PointLight(0xffeeaa, 3, 300);
sunLight.position.set(0, 0, 0);
scene.add(sunLight);

/* STARS */
const starGeo = new THREE.BufferGeometry();
const starCount = 5000;
const positions = new Float32Array(starCount * 3);

for (let i = 0; i < starCount * 3; i++) {
  positions[i] = (Math.random() - 0.5) * 800;
}
starGeo.setAttribute("position", new THREE.BufferAttribute(positions, 3));
scene.add(
  new THREE.Points(
    starGeo,
    new THREE.PointsMaterial({ color: 0xffffff, size: 0.7 })
  )
);

/* SUN */
const sun = new THREE.Mesh(
  new THREE.SphereGeometry(5, 64, 64),
  new THREE.MeshStandardMaterial({
    emissive: 0xffaa00,
    emissiveIntensity: 2
  })
);
scene.add(sun);

/* PLANETS */
const planets = [];
const distances = [10, 16, 22, 30];
const sizes = [1, 1.5, 2, 2.5];

distances.forEach((d, i) => {
  const planet = new THREE.Mesh(
    new THREE.SphereGeometry(sizes[i], 48, 48),
    new THREE.MeshStandardMaterial({
      metalness: 0.3,
      roughness: 0.6
    })
  );
  planet.position.x = d;
  scene.add(planet);
  planets.push({ mesh: planet, distance: d, speed: 0.001 + i * 0.0005 });
});

/* SCROLL CONTROL */
let scrollProgress = 0;
addEventListener("scroll", () => {
  scrollProgress =
    scrollY / (document.body.scrollHeight - innerHeight);
});

/* ANIMATE */
function animate() {
  requestAnimationFrame(animate);

  /* PLANET ORBITS */
  planets.forEach((p, i) => {
    const angle = performance.now() * p.speed;
    p.mesh.position.x = Math.cos(angle) * p.distance;
    p.mesh.position.z = Math.sin(angle) * p.distance;
  });

  /* CAMERA TRAVEL THROUGH SOLAR SYSTEM */
  camera.position.z = 40 - scrollProgress * 120;
  camera.position.y = scrollProgress * 20;
  camera.lookAt(0, 0, 0);

  renderer.render(scene, camera);
}
animate();

/* RESIZE */
addEventListener("resize", () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>

</body>
</html>
